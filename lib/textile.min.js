// [textile-js | https://github.com/GehDoc/textile-js]  Build version: 2.0.104 - 2020-03-04T21:56:14+0100  
 !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("textile",[],t):"object"==typeof exports?exports.textile=t():e.textile=t()}(this,function(){return r={},a.m=n=[function(e,t){var a={},s=e.exports={pattern:{punct:"[!-/:-@\\[\\\\\\]-`{-~]",space:"\\s"},escape:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},collapse:function(e){return e.replace(/(?:#.*?(?:\n|$))/g,"").replace(/\s+/g,"")},expandPatterns:function(r){return r.replace(/\[:\s*(\w+)\s*:\]/g,function(e,t){var n=s.pattern[t];if(n)return s.expandPatterns(n);throw new Error("Pattern "+e+" not found in "+r)})},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},compile:function(e,t){s.isRegExp(e)&&(1===arguments.length&&(t=(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")),e=e.source);var n=e+(t||"");if(n in a)return a[n];var r=s.expandPatterns(e);return t&&/x/.test(t)&&(r=s.collapse(r)),t&&/s/.test(t)&&(r=r.replace(/([^\\])\./g,"$1[^\\0]")),t=(t||"").replace(/[^gim]/g,""),a[n]=new RegExp(r,t)}}},function(e,t){e.exports=function(n){var e,t=String(n),r=0,a={index:function(){return r},save:function(){return e=r,a},getSlot:function(){return e||0},getPos:function(){return r||0},load:function(){return r=e,n=t.slice(r),a},advance:function(e){return r+="string"==typeof e?e.length:e,n=t.slice(r)},skipWS:function(){var e=/^\s+/.exec(n);return e?(r+=e[0].length,n=t.slice(r),e[0]):""},lookbehind:function(e){return e=null==e?1:e,t.slice(r-e,r)},startsWith:function(e){return n.substring(0,e.length)===e},slice:function(e,t){return null!=t?n.slice(e,t):n.slice(e)},valueOf:function(){return n},toString:function(){return n}};return a}},function(e,t){var x=/^\(([^()\n]+)\)/,b=/^(\(+)/,y=/^(\)+)/,$=/^(<>|<|>|=)/,S=/^(<|>|=)/,O=/^(~|\^|-)/,A=/^\\(\d+)/,L=/^\/(\d+)/,k=/^\{([^}]*)\}/,w=/^\s*([^:\s]+)\s*:\s*(.+)\s*$/,_=/^\[([^[\]\n]+)\]/,N={"<":"left","=":"center",">":"right","<>":"justify"},j={"~":"bottom","^":"top","-":"middle"};e.exports={copyAttr:function(e,t){if(e){var n={};for(var r in e)!(r in e)||t&&r in t||(n[r]=e[r]);return n}},parseAttr:function(e,t,n){if((e=String(e))&&"notextile"!==t){var r,a={},s={style:a},i=e,c=/^(?:table|t[dh]|t(?:foot|head|body)|b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)$/.test(t),o="img"===t,l="li"===t,u=!c&&!o&&"a"!==t,p=o?S:$;do{if(r=k.exec(i))r[1].split(";").forEach(function(e){var t=e.match(w);t&&(a[t[1]]=t[2])}),i=i.slice(r[0].length);else if(r=_.exec(i)){var f=i.slice(r[0].length);!f&&u||n&&n===f.slice(0,n.length)?r=null:(s.lang=r[1],i=i.slice(r[0].length))}else if(r=x.exec(i)){var d=i.slice(r[0].length);if(!d&&u||n&&(" "===d[0]||n===d.slice(0,n.length)))r=null;else{var h=r[1].split("#");h[0]&&(s.class=h[0]),h[1]&&(s.id=h[1]),i=d}}else{if(c||l){if(r=b.exec(i)){a["padding-left"]="".concat(r[1].length,"em"),i=i.slice(r[0].length);continue}if(r=y.exec(i)){a["padding-right"]="".concat(r[1].length,"em"),i=i.slice(r[0].length);continue}}if((o||c||l)&&(r=p.exec(i))){var g=N[r[1]];o?s.align=g:a["text-align"]=g,i=i.slice(r[0].length)}else if("td"!==t&&"tr"!==t||!(r=O.exec(i))){if("td"===t){if(r=A.exec(i)){s.colspan=r[1],i=i.slice(r[0].length);continue}if(r=L.exec(i)){s.rowspan=r[1],i=i.slice(r[0].length);continue}}}else a["vertical-align"]=j[r[1]],i=i.slice(r[0].length)}}while(r);var v=[];for(var m in a)v.push("".concat(m,":").concat(a[m]));return v.length?s.style=v.join(";"):delete s.style,i===e?void 0:[e.length-i.length,s]}},addLineNumber:function(e,t,n,r,a){return t.showOriginalLineNumber&&n&&((e=e||{})["data-line"]=n[(r=r||0)+a],t.cssClassOriginalLineNumber&&(e.class=(e.class?e.class+" ":"")+t.cssClassOriginalLineNumber)),e}}},function(e,t,n){var r=n(0),f=n(1);r.pattern.html_id="[a-zA-Z][a-zA-Z\\d:]*",r.pattern.html_attr="(?:\"[^\"]+\"|'[^']+'|[^>\\s]+)";var a=r.compile(/^\s*([^=\s]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/),s=r.compile(/^<!--(.+?)-->/,"s"),i=r.compile(/^<\/([:html_id:])([^>]*)>/),c=r.compile(/^<([:html_id:])((?:\s[^=\s/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>/),o=r.compile(/^\s*<([:html_id:](?::[a-zA-Z\d]+)*)((?:\s[^=\s/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>/),d={area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,option:1,param:1,wbr:1};function h(){return!0}function g(e){return s.exec(e)}function v(e){return c.exec(e)}function m(e){return i.exec(e)}function x(e){for(var t,n={};t=a.exec(e);)n[t[1]]="string"==typeof t[2]?t[2].replace(/^(["'])(.*)\1$/,"$2"):null,e=e.slice(t[0].length);return n}var b="OPEN",y="COMMENT";e.exports={singletons:d,tokenize:function(e,t,n){var r,a=[],s=!1,i=t?function(e){return e in t}:h,c=i,o={},l=0;e=f(String(e));do{if((r=g(e))&&i("!"))a.push({type:y,data:r[1],pos:e.index(),src:r[0]}),e.advance(r[0]);else if((r=m(e))&&i(r[1])){var u={type:"CLOSE",tag:r[1],pos:e.index(),src:r[0]};if(e.advance(r[0]),a.push(u),o[u.tag]--,l--,n&&(!l||!o[u.tag]<0||isNaN(o[u.tag])))return a;s&&(s=null,i=c)}else if((r=v(e))&&i(r[1])){var p={type:r[3]||r[1]in d?"SINGLE":b,tag:r[1],pos:e.index(),src:r[0]};r[2]&&(p.attr=x(r[2])),"script"!==r[1]&&"code"!==r[1]&&"style"!==r[1]||(s=p.tag,i=function(e){return e===s}),p.type===b&&(l++,o[p.tag]=(o[p.tag]||0)+1),a.push(p),e.advance(r[0])}else(r=/([^<]+|[^\0])/.exec(e))&&a.push({type:"TEXT",data:r[0],pos:e.index(),src:r[0]}),e.advance(r&&r[0].length||1)}while(e.valueOf());return a},parseHtml:function(e,t){for(var n,r=[],a=[],s=r,i=0;i<e.length;i++)if((n=e[i]).type===y)s.push(["!",n.data]);else if("TEXT"===n.type||"WS"===n.type)s.push(n.data);else if("SINGLE"===n.type)s.push(n.attr?[n.tag,n.attr]:[n.tag]);else if(n.type===b){var c=n.attr?[n.tag,n.attr]:[n.tag];s.push(c),a.push(c),s=c}else if("CLOSE"===n.type){if(a.length)for(var o=a.length-1;0<=o;o--){if(a[o][0]===n.tag){a.splice(o),s=a[a.length-1]||r;break}}if(!a.length&&t)return r.sourceLength=n.pos+n.src.length,r}return r.sourceLength=n?n.pos+n.src.length:0,r},parseHtmlAttr:x,testCloseTag:m,testOpenTagBlock:function(e){return o.exec(e)},testOpenTag:v,testComment:g}},function(e,t,n){var O=n(1),A=n(9),L=n(0),k=n(2).parseAttr,w=n(12).parseGlyph,r=n(3),_=r.parseHtml,N=r.parseHtmlAttr,j=r.tokenize,P=r.singletons,T=r.testComment,E=r.testOpenTag,a=n(5),s=a.ucaps,i=a.txattr,c=a.txcite;L.pattern.txattr=i,L.pattern.txcite=c,L.pattern.ucaps=s;var C={"*":"strong","**":"b","??":"cite",_:"em",__:"i","-":"del","%":"span","+":"ins","~":"sub","^":"sup","@":"code"},W=/^([[{]?)(__?|\*\*?|\?\?|[-+^~@%])/,z=L.compile(/^!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^./]))?)([^!\s]+?) ?(?:\(((?:[^()]|\([^()]+\))+)\))?!(?::([^\s]+?(?=[!-.:-@[\\\]-`{-~](?:$|\s)|\s|$)))?/),M=L.compile(/^\[!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^./]))?)([^!\s]+?) ?(?:\(((?:[^()]|\([^()]+\))+)\))?!(?::([^\s]+?(?=[!-.:-@[\\\]-`{-~](?:$|\s)|\s|$)))?\]/),H=L.compile(/^((?!TM\)|tm\))[[:ucaps:]](?:[[:ucaps:]\d]{1,}(?=\()|[[:ucaps:]\d]{2,}))(?:\((.*?)\))?(?=\W|$)/),Z=L.compile(/^"(?!\s)((?:[^"]|"(?![\s:])[^\n"]+"(?!:))+)"[:txcite:]/),q=/^\["([^\n]+?)":((?:\[[a-z0-9]*\]|[^\]])+)\]/,R=/\s*\(((?:\([^()]*\)|[^()])+)\)$/,D=/^\[(\d+)(!?)\]/;t.parsePhrase=function e(t,n){t=O(t);var r,a,s=A();do{if(t.save(),t.startsWith("\r\n")&&t.advance(1),t.startsWith("\n"))t.advance(1),t.startsWith(" ")?t.advance(1):n.breaks&&s.add(["br"]),s.add("\n");else if(r=/^==(.*?)==/.exec(t))t.advance(r[0]),s.add(r[1]);else{var i=t.lookbehind(1),c=!i||/^[\s>.,"'?!;:()]$/.test(i);if((r=W.exec(t))&&(c||r[1])){t.advance(r[0]);var o=r[2],l=r[1],u=C[o],p="code"===u;(a=!p&&k(t,u,o))&&(t.advance(a[0]),a=a[1]);var f=void 0,d=void 0;if("["===l)f="^(.*?)",d="(?:])";else if("{"===l)f="^(.*?)",d="(?:})";else{var h=L.escape(o.charAt(0));f=p?"^(\\S+|\\S+.*?\\S)":"^([^\\s".concat(h,"]+|[^\\s").concat(h,"].*?\\S(").concat(h,"*))"),d="(?=$|[\\s.,\"'!?;:()«»„“”‚‘’<>])"}if((r=L.compile("".concat(f,"(").concat(L.escape(o),")").concat(d)).exec(t))&&r[1]){t.advance(r[0]),p?s.add([u,r[1]]):s.add([u,a].concat(e(r[1],n)));continue}t.load()}if((r=z.exec(t))||(r=M.exec(t))){t.advance(r[0]);var g=(a=r[1]&&k(r[1],"img"))?a[1]:{src:""},v=["img",g];g.src=r[2],g.alt=r[3]?g.title=r[3]:"",r[4]&&(v=["a",{href:r[4]},v]),s.add(v)}else if(r=T(t))t.advance(r[0]),s.add(["!",r[1]]);else{if(r=E(t)){t.advance(r[0]);var m=r[1],x=r[3]||r[1]in P,b=[m];if(r[2]&&b.push(N(r[2])),x){s.add(b).add(t.skipWS());continue}if(r=L.compile("^(.*?)(</".concat(m,"\\s*>)"),"s").exec(t)){if(t.advance(r[0]),"code"===m)b.push(r[1]);else{if("notextile"===m){s.merge(_(j(r[1])));continue}b=b.concat(e(r[1],n))}s.add(b);continue}t.load()}if((r=D.exec(t))&&/\S/.test(i))t.advance(r[0]),s.add(["sup",{class:"footnote",id:"fnr"+r[1]},"!"===r[2]?r[1]:["a",{href:"#fn"+r[1]},r[1]]]);else if(r=H.exec(t)){t.advance(r[0]);var y=["span",{class:"caps"},r[1]];r[2]&&(y=["acronym",{title:r[2]},y]),s.add(y)}else if(c&&(r=Z.exec(t))||(r=q.exec(t))){t.advance(r[0]);var $=r[1].match(R),S=$?r[1].slice(0,r[1].length-$[0].length):r[1];a=(a=k(S,"a"))?(S=S.slice(a[0]),a[1]):{},$&&!S&&(S=$[0],$=""),a.href=r[2],$&&(a.title=$[1]),s.add(["a",a].concat(e(S.replace(/^(\.?\s*)/,""),n)))}else(r=/([a-zA-Z0-9,.':]+|[ \f\r\t\v\xA0\u2028\u2029]+|[^\0])/.exec(t))&&s.add(r[0]),t.advance(r&&r[0].length||1)}}}while(t.valueOf());return s.get().map(w)}},function(e,t){t.txblocks="(?:b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)",t.ucaps="A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾⱿꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞠꞢꞤꞦꞨꞪ",t.txcite=":((?:[^\\s()]|\\([^\\s()]+\\)|[()])+?)(?=[!-\\.:-@\\[\\\\\\]-`{-~]+(?:$|\\s)|$|\\s)";var n=t.attr_class="\\([^\\)]+\\)",r=t.attr_style="\\{[^\\}]+\\}",a=t.attr_lang="\\[[^\\[\\]]+\\]",s=t.attr_align="(?:<>|<|>|=)",i=t.attr_pad="[\\(\\)]+",c=t.txattr="(?:".concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(i,")*");t.txlisthd="[\\t ]*[\\#\\*]*(\\*|\\#(?:_|\\d+)?)".concat(c,"(?: +\\S|\\.\\s*(?=\\S|\\n))")},function(e,t){e.exports=function(e,t){if(t)for(var n in t)e[n]=t[n];return e}},function(e,t,n){function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(3).singletons;function l(e,t){return e.replace(/&(?!(#\d{2,}|#x[\da-fA-F]{2,}|[a-zA-Z][a-zA-Z1-4]{1,6});)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,t?"&quot;":'"').replace(/'/g,t?"&#39;":"'")}function r(e){if(t=e,!Array.isArray(t)||"string"!=typeof t[0])throw new Error("Not a jsonML node");var t,n;return"object"===c(n=e[1])&&!Array.isArray(n)}e.exports={reIndent:function n(e,r){return r?e.map(function(e){if(/^\n\t+/.test(e))if(r<0)e=e.slice(0,r);else for(var t=0;t<r;t++)e+="\t";else if(Array.isArray(e))return n(e,r);return e}):e},toHTML:function e(t){if("string"==typeof(t=t.concat()))return l(t);var n=t.shift(),r={},a="",s=[];for(t.length&&"object"===c(t[0])&&!Array.isArray(t[0])&&(r=t.shift());t.length;)s.push(e(t.shift()));for(var i in r)a+=null==r[i]?" ".concat(i):" ".concat(i,'="').concat(l(String(r[i]),!0),'"');return"!"===n?"\x3c!--".concat(s.join(""),"--\x3e"):n in o||-1<n.indexOf(":")&&!s.length?"<".concat(n).concat(a," />"):"<".concat(n).concat(a,">").concat(s.join(""),"</").concat(n,">")},escape:l,applyHooks:function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(Array.isArray(t)&&Array.isArray(n)&&n.length){for(var r=0,a=n.length;r<a;r++){var s=n[r];s[0](t,s[1])}for(var i=0,c=t.length;i<c;i++)Array.isArray(t[i])&&e(t[i],n)}return t},addAttributes:function(e,t){if(r(e))return Object.assign(e[1],t);var n=Object.assign({},t);return e.splice(1,0,n),n}}},function(e,t,n){var M=n(9),H=n(1),r=n(0),Z=n(11),q=n(7),a=n(3),R=a.parseHtml,D=a.tokenize,F=a.parseHtmlAttr,I=a.singletons,G=a.testComment,B=a.testOpenTagBlock,X=n(4).parsePhrase,s=n(2),U=s.copyAttr,J=s.parseAttr,K=s.addLineNumber,i=n(13),Q=i.testList,V=i.parseList,c=n(14),Y=c.testDefList,ee=c.parseDefList,o=n(15),te=o.testTable,ne=o.parseTable,l=n(5),u=l.txblocks,p=l.txlisthd,f=l.txattr;r.pattern.txblocks=u,r.pattern.txlisthd=p,r.pattern.txattr=f;var re={p:0,hr:0,ul:1,ol:0,li:0,div:1,pre:0,object:1,script:0,noscript:0,blockquote:1,notextile:1},ae=r.compile(/^([:txblocks:])/),se=r.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n(?:\s*\n|$)+)/,"s"),ie=r.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n+(?=[:txblocks:][:txattr:]\.))/,"s"),ce=r.compile(/^(.*?)($|\r?\n(?:\s*\n|$)+)/,"s"),oe=r.compile(/^(.*?)($|\r?\n+(?=[:txblocks:][:txattr:]\.))/,"s"),le=/^(---+|\*\*\*+|___+)(\r?\n\s+|$)/,ue=r.compile(/^\[([^\]]+)\]((?:https?:\/\/|\/)\S+)(?:\s*\n|$)/),pe=/^fn\d+$/,fe=/^( *\r?\n)+/,d=Object.prototype.hasOwnProperty;function de(e){for(var t=1;t<(arguments.length<=1?0:arguments.length-1);t++){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if(null!=n)for(var r in n)d.call(n,r)&&(e[r]=n[r])}return e}function he(e,n,r,a,s){n=n||"p";var i=[];return e.split(/(?:\r?\n){2,}/).forEach(function(e,t){"p"===n&&/^\s/.test(e)?(e=e.replace(/\r?\n[\t ]/g," ").trim(),i=i.concat(X(e,s))):(a&&t&&i.push(a),i.push(r?[n,r].concat(X(e,s)):[n].concat(X(e,s))))}),i}t.parseFlow=function e(t,n,r){for(var a,s,i=M(),c=function(e,t,n){if(t.showOriginalLineNumber){n=n||0;var r=e.match(fe);return r&&r[0]&&(n+=(r[0].match(/\n/g)||[]).length),n}return 0}(t,n,r),o=function(e,t,n){if(t.showOriginalLineNumber){var r=[],a=e.toString();for(var s in a)r[s]=n,"\n"===a[s]&&n++;return r}}(t=H(t.replace(fe,"")),n,c);t.valueOf();){var l=fe.exec(t);if(l&&l[0]&&t.advance(l[0].length),t.save(),!t.valueOf())break;if(s=ue.exec(t))a=a||{},t.advance(s[0]),a[s[1]]=s[2];else{if(i.linebreak(),s=ae.exec(t)){t.advance(s[0]);var u=s[0],p=J(t,u);if(p&&(t.advance(p[0]),p=p[1]),p=K(p,n,o,0,t.getSlot()),s=/^\.(\.?)(?:\s|(?=:))/.exec(t)){var f=!!s[1],d=f?ie:se;if("bc"!==u&&"pre"!==u||(d=f?oe:ce),s=d.exec(t.advance(s[0])),t.advance(s[0]),"bq"===u){var h=s[1];(s=/^:(\S+)\s+/.exec(h))&&((p=p||{}).cite=s[1],h=h.slice(s[0].length));var g=he(h,"p",U(p,{cite:1,id:1}),"\n",n);i.add(["blockquote",p,"\n"].concat(g).concat(["\n"]))}else if("bc"===u){var v=p?U(p,{id:1}):null;i.add(["pre",p,v?["code",v,s[1]]:["code",s[1]]])}else if("notextile"===u)i.merge(R(D(s[1])));else if("###"!==u)if("pre"===u)i.add(["pre",p,s[1]]);else if(pe.test(u)){var m=u.replace(/\D+/g,"");(p=p||{}).class=(p.class?p.class+" ":"")+"footnote",p.id="fn"+m,i.add(["p",p,["a",{href:"#fnr"+m},["sup",m]]," "].concat(X(s[1],n)))}else i.merge(he(s[1],u,p,"\n",n));continue}t.load()}if(s=G(t))t.advance(s[0]+(/(?:\s*\n+)+/.exec(t)||[])[0]),i.add(["!",s[1]]);else{if(s=B(t)){var x=s[1];if(x in re)if(s[3]||x in I){var b=t.getSlot();if(t.advance(s[0]),/^\s*(\n|$)/.test(t)){var y=[x];n.showOriginalLineNumber?y.push(K(s[2]?F(s[2]):{},n,o,0,b)):s[2]&&y.push(F(s[2])),i.add(y),t.skipWS();continue}}else if("pre"===x){var $=D(t,{pre:1,code:1},x);n.showOriginalLineNumber&&($[0].attr=K($[0].attr,n,o,0,t.getSlot()));var S=R($,!0);if(t.load().advance(S.sourceLength),/^\s*(\n|$)/.test(t)){i.merge(S),t.skipWS();continue}}else if("notextile"===x){for(var O=D(t,null,x),A=1;/^\s+$/.test(O[A].src);)A++;var L=R(O.slice(A,-1),!0),k=O.pop();if(t.load().advance(k.pos+k.src.length),/^\s*(\n|$)/.test(t)){i.merge(L),t.skipWS();continue}}else{t.skipWS();for(var w=D(t,null,x),_=t.getSlot(),N=w.pop(),j=1;w[j]&&/^[\n\r]+$/.test(w[j].src);)j++;if(N.tag===x){var P=1<w.length?t.slice(w[j].pos,N.pos):"";if(t.advance(N.pos+N.src.length),/^\s*(\n|$)/.test(t)){var T=[x];if(n.showOriginalLineNumber?T.push(K(s[2]?F(s[2]):{},n,o,0,_)):s[2]&&T.push(F(s[2])),"script"===x||"style"===x)T.push(P);else{var E=P.replace(/^\n+/,"").replace(/\s*$/,""),C=/\n\r?\n/.test(E)||"ol"===x||"ul"===x,W=C?e(E,n):X(E,de({},n,{breaks:!1}));(C||/^\n/.test(P))&&T.push("\n"),(C||/\s$/.test(P))&&W.push("\n"),T=T.concat(W)}i.add(T),t.skipWS();continue}}}t.load()}(s=le.exec(t))?(t.advance(s[0]),i.add(["hr"])):(s=Q(t))?(t.advance(s[0]),i.add(V(s[0],n,t.getSlot(),o))):(s=Y(t))?(t.advance(s[0]),i.add(ee(s[0],n,t.getSlot(),o))):(s=te(t))?(t.advance(s[0]),i.add(ne(s[1],n,t.getSlot(),o))):(s=se.exec(t),i.merge(he(s[1],"p",K({},n,o,0,t.getSlot()),"\n",n)),t.advance(s[0]))}}}var z=a?[[Z,a]]:[];return n.hooks&&Array.isArray(n.hooks)&&(z=z.concat(n.hooks)),q.applyHooks(i.get(),z)}},function(e,t){e.exports=function(e){var t=Array.isArray(e)?e:[];return{add:function(e){return"string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:Array.isArray(e)?t.push(e.filter(function(e){return void 0!==e})):e&&t.push(e),this},merge:function(e){for(var t=0,n=e.length;t<n;t++)this.add(e[t]);return this},linebreak:function(){t.length&&this.add("\n")},get:function(){return t}}}},function(e,t,n){var r=n(6),a=n(7),s=n(8).parseFlow,i=n(3).parseHtml;function c(e,t){return t=r(r({},c.defaults),t||{}),s(e,t,t.lineOffset).map(a.toHTML).join("")}(e.exports=c).defaults={breaks:!0,showOriginalLineNumber:!1,lineOffset:0,cssClassOriginalLineNumber:"",hooks:[]},c.setOptions=c.setoptions=function(e){return r(c.defaults,e),this},c.parse=c.convert=c,c.html_parser=i,c.tokenize=function(e,t){return t=r(r({},c.defaults),t||{}),s(e,t,t.lineOffset)},c.jsonml=function(e,t){return["html"].concat(c.tokenize(e,t))},c.serialize=a.toHTML,c.jsonmlUtils=a},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,t){if(Array.isArray(e)&&"a"===e[0]){var n=e[1];"object"===r(n)&&"href"in n&&n.href in t&&(n.href=t[n.href])}return e}},function(e,t,n){var r=n(0),a=/(\w)'(\w)/g,s=/([^-]|^)->/,i=r.compile(/([^\s[(])"(?=$|\s|[:punct:])/g),c=r.compile(/([^\s[(])'(?=$|\s|[:punct:])/g),o=/(\b ?|\s|^)(?:\(C\)|\[C\])/gi,l=/([\d.,]+['"]? ?)x( ?)(?=[\d.,]['"]?)/g,u=r.compile(/(\d*[.,]?\d+)"(?=\s|$|[:punct:])/g),p=/([^.]?)\.{3}/g,f=/(^|[\s\w])--([\s\w]|$)/g,d=/ - /g,h=/"/g,g=/'/g,v=/(\b ?|\s|^)(?:\(R\)|\[R\])/gi,m=r.compile(/(\d*[.,]?\d+)'(?=\s|$|[:punct:])/g),x=/(\b ?|\s|^)(?:\((?:TM|tm)\)|\[(?:TM|tm)\])/g;t.parseGlyph=function(e){return"string"!=typeof e?e:e.replace(s,"$1&#8594;").replace(l,"$1&#215;$2").replace(p,"$1&#8230;").replace(f,"$1&#8212;$2").replace(d," &#8211; ").replace(x,"$1&#8482;").replace(v,"$1&#174;").replace(o,"$1&#169;").replace(u,"$1&#8243;").replace(i,"$1&#8221;").replace(h,"&#8220;").replace(m,"$1&#8242;").replace(a,"$1&#8217;$2").replace(c,"$1&#8217;").replace(g,"&#8216;").replace(/[([]1\/4[\])]/,"&#188;").replace(/[([]1\/2[\])]/,"&#189;").replace(/[([]3\/4[\])]/,"&#190;").replace(/[([]o[\])]/,"&#176;").replace(/[([]\+\/-[\])]/,"&#177;")}},function(e,t,n){var $=n(1),r=n(0),S=n(6),a=n(2),O=a.parseAttr,A=a.addLineNumber,L=n(4).parsePhrase,s=n(5).txlisthd;r.pattern.txlisthd=s;var i=r.compile(/^((?:[:txlisthd:][^\0]*?(?:\r?\n|$))+)(\s*\n|$)/,"s"),k=r.compile(/^([#*]+)([^\0]+?)(\n(?=[:txlisthd:])|$)/,"s");function w(e){for(var t="\n";e--;)t+="\t";return t}e.exports={testList:function(e){return i.exec(e)},parseList:function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/(^|\r?\n)[\t ]+/);a&&a[0]&&n++}e=$(e.replace(/(^|\r?\n)[\t ]+/,"$1"));for(var s,i,c,o,l=[],u={},p=t._lst||{},f=0;i=k.exec(e);){var d=["li"],h=i[1].length,g="#"===i[1].substr(-1)?"ol":"ul",v=null,m=void 0,x=void 0,b=void 0,y=void 0;if((c=/^(_|\d+)/.exec(i[2]))&&(f=isFinite(c[1])?parseInt(c[1],10):p[h]||u[h]||1,i[2]=i[2].slice(c[1].length)),(b=O(i[2],"li"))&&(i[2]=i[2].slice(b[0]),b=b[1]),b=A(b,t,r,n,e.getPos()),/^\.\s*$/.test(i[2]))s=b||{},e.advance(i[0]);else{for(;l.length<h;)m=[g,{},w(l.length+1),v=["li"]],(x=l[l.length-1])&&(x.li.push(w(l.length)),x.li.push(m)),l.push({ul:m,li:v,att:0}),u[l.length]=1;for(;l.length>h;)(y=l.pop()).ul.push(w(l.length)),1!==y.att||y.ul[3][1].substr||S(y.ul[1],y.ul[3].splice(1,1)[0]);x=l[l.length-1],f&&(x.ul[1].start=f,u[h]=f,f=0),s&&(x.att=9,S(x.ul[1],s),s=null),v||(x.ul.push(w(l.length),d),x.li=d),b&&(x.li.push(b),x.att++),Array.prototype.push.apply(x.li,L(i[2].trim(),t)),e.advance(i[0]),u[h]=(u[h]||0)+1}}for(t._lst=u;l.length;)(o=l.pop()).ul.push(w(l.length)),1!==o.att||o.ul[3][1].substr||S(o.ul[1],o.ul[3].splice(1,1)[0]);return o.ul}}},function(e,t,g){var v=g(1),m=g(2).addLineNumber,n=/^((?:- (?:[^\n]\n?)+?)+:=(?: *\n[^\0]+?=:(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- )))))+/,x=/^((?:- (?:[^\n]\n?)+?)+):=( *\n[^\0]+?=:\s*(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- ))))/;t.testDefList=function(e){return n.exec(e)},t.parseDefList=function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/^\s+/);a&&a[0]&&(n+=a[0].length)}e=v(e.trim());for(var s,i,c,o=g(4).parsePhrase,l=g(8).parseFlow,u=["dl","\n"];c=x.exec(e);){var p=(s=c[1].split(/(?:^|\n)- /))[0].length;s=s.slice(1);var f=[];for(t.showOriginalLineNumber&&(f=c[1].match(/(?:^|\n)- /g).slice(1));s.length;){var d=s.shift();u.push("\t",["dt"].concat(m({},t,r,n,e.getPos()+p),o(d.trim(),t)),"\n"),t.showOriginalLineNumber&&(p+=d.length,f.length&&(p+=f.shift().length))}if(i=c[2].trim(),t.showOriginalLineNumber){p=c[1].length+2;var h=c[2].match(/^\s+/);h&&h[0]&&(p+=h[0].length)}u.push("\t",["dd"].concat(m({},t,r,n,e.getPos()+p),/=:$/.test(i)?l(i.slice(0,-2).trim(),t,t.showOriginalLineNumber?r[(n||0)+p+e.getPos()]:0):o(i,t)),"\n"),e.advance(c[0])}return u}},function(e,t,n){var r=n(0),O=n(6),A=n(1),a=n(2),L=a.parseAttr,k=a.addLineNumber,w=n(4).parsePhrase,_=n(7).reIndent,s=n(5).txattr;r.pattern.txattr=s;var i=r.compile(/^((?:table[:txattr:]\.(?:\s(.+?))\s*\n)?(?:(?:[:txattr:]\.[^\n\S]*)?\|.*?\|[^\n\S]*(?:\n|$))+)([^\n\S]*\n)?/,"s"),N=/^table(_?)([^\n]*?)\.(?:[ \t](.+?))?\s*\n/,j=r.compile(/^(?:\|([~^-][:txattr:])\.\s*\n)?([:txattr:]\.[^\n\S]*)?\|(.*?)\|[^\n\S]*(\n|$)/,"s"),P=/^\|=([^\n+]*)\n/,T=/^\|:([^\n+]*)\|[\r\t ]*\n/,E=/^\|([\^\-~])([^\n+]*)\.[ \t\r]*\n/,C={"^":"thead","~":"tfoot","-":"tbody"};function W(e){var s=["colgroup",{}];return e.split("|").forEach(function(e,t){var n,r=t?{}:s[1],a=e.trim();a&&((n=/^\\(\d+)/.exec(a))&&(r.span=+n[1],a=a.slice(n[0].length)),(n=L(a,"col"))&&(O(r,n[1]),a=a.slice(n[0])),(n=/\b\d+\b/.exec(a))&&(r.width=+n[0])),t&&s.push("\n\t\t",["col",r])}),s.concat(["\n\t"])}e.exports={parseColgroup:W,parseTable:function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/^\s+/);a&&a[0]&&(n+=a[0].length)}function s(e,t){o=[e,t||{}],h.push(o)}e=A(e.trim());var i,c,o,l,u,p,f,d,h=[],g={},v=0;(d=N.exec(e))&&(e.advance(d[0]),(p=L(d[2],"table"))&&O(g,p[1]),d[3]&&(g.summary=d[3])),(d=P.exec(e))&&(c=["caption"],(p=L(d[1],"caption"))&&(c.push(p[1]),d[1]=d[1].slice(p[0])),/\./.test(d[1])?(c.push(d[1].slice(1).replace(/\|\s*$/,"").trim()),v++,e.advance(d[0])):c=null);do{if(d=T.exec(e))i=W(d[1]),v++;else if(d=E.exec(e)){var m=C[d[1]]||"tbody";s(m,(p=L("".concat(d[2]," "),m))&&p[1]),v++}else if(d=j.exec(e)){o||s("tbody"),l=["tr"],d[2]&&(p=L(d[2],"tr"))?l.push(k(p[1],t,r,n,e.getPos())):l.push(k({},t,r,n,e.getPos())),o.push("\n\t\t",l),u=A(d[3]);do{u.save();var x=u.startsWith("_"),b=[x?"th":"td"];if(x&&u.advance(1),(p=L(u,"td"))&&(u.advance(p[0]),b.push(p[1])),p||x){var y=/^\.\s*/.exec(u);y?u.advance(y[0]):(b=["td"],u.load())}var $=/^(==.*?==|[^|])*/.exec(u);b=b.concat(w($[0],t)),l.push("\n\t\t\t",b),f="|"===u.valueOf().charAt($[0].length),u.advance($[0].length+1)}while(f);l.push("\n\t\t")}d&&e.advance(d[0])}while(d);var S=["table",g];return v?(c&&S.push("\n\t",c),i&&S.push("\n\t",i),h.forEach(function(e){S.push("\n\t",e.concat(["\n\t"]))})):S=S.concat(_(h[0].slice(2),-1)),S.push("\n"),S},testTable:function(e){return i.exec(e)}}}],a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=10);function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r}); 