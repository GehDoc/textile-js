// [textile-js | https://github.com/GehDoc/textile-js]  Build version: 2.0.106 - 2020-03-29T17:59:13+0200  
 !function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("textile",[],t):"object"==typeof exports?exports.textile=t():e.textile=t()}(this,function(){return r={},a.m=n=[function(e,t){var a={},i=e.exports={pattern:{punct:"[!-/:-@\\[\\\\\\]-`{-~]",space:"\\s"},escape:function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},collapse:function(e){return e.replace(/(?:#.*?(?:\n|$))/g,"").replace(/\s+/g,"")},expandPatterns:function(r){return r.replace(/\[:\s*(\w+)\s*:\]/g,function(e,t){var n=i.pattern[t];if(n)return i.expandPatterns(n);throw new Error("Pattern "+e+" not found in "+r)})},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},compile:function(e,t){i.isRegExp(e)&&(1===arguments.length&&(t=(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")),e=e.source);var n=e+(t||"");if(n in a)return a[n];var r=i.expandPatterns(e);return t&&/x/.test(t)&&(r=i.collapse(r)),t&&/s/.test(t)&&(r=r.replace(/([^\\])\./g,"$1[^\\0]")),t=(t||"").replace(/[^gim]/g,""),a[n]=new RegExp(r,t)}}},function(e,t){e.exports=function(n){var e,t=String(n),r=0,a={index:function(){return r},save:function(){return e=r,a},getSlot:function(){return e||0},getPos:function(){return r||0},load:function(){return r=e,n=t.slice(r),a},advance:function(e){return r+="string"==typeof e?e.length:e,n=t.slice(r)},skipWS:function(){var e=/^\s+/.exec(n);return e?(r+=e[0].length,n=t.slice(r),e[0]):""},lookbehind:function(e){return e=null==e?1:e,t.slice(r-e,r)},startsWith:function(e){return n.substring(0,e.length)===e},slice:function(e,t){return null!=t?n.slice(e,t):n.slice(e)},valueOf:function(){return n},toString:function(){return n}};return a}},function(e,t){var b=/^\(([^()\n]+)\)/,x=/^(\(+)/,y=/^(\)+)/,S=/^(<>|<|>|=)/,$=/^(<|>|=)/,O=/^(~|\^|-)/,L=/^\\(\d+)/,w=/^\/(\d+)/,A=/^\{([^}]*)\}/,N=/^\s*([^:\s]+)\s*:\s*(.+)\s*$/,k=/^\[([^[\]\n]+)\]/,_={"<":"left","=":"center",">":"right","<>":"justify"},P={"~":"bottom","^":"top","-":"middle"};e.exports={copyAttr:function(e,t){if(e){var n={};for(var r in e)!(r in e)||t&&r in t||(n[r]=e[r]);return n}},parseAttr:function(e,t,n){if((e=String(e))&&"notextile"!==t){var r,a={},i={style:a},s=e,o=/^(?:table|t[dh]|t(?:foot|head|body)|b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)$/.test(t),c="img"===t,l="li"===t,u=!o&&!c&&"a"!==t,p=c?$:S;do{if(r=A.exec(s))r[1].split(";").forEach(function(e){var t=e.match(N);t&&(a[t[1]]=t[2])}),s=s.slice(r[0].length);else if(r=k.exec(s)){var f=s.slice(r[0].length);!f&&u||n&&n===f.slice(0,n.length)?r=null:(i.lang=r[1],s=s.slice(r[0].length))}else if(r=b.exec(s)){var d=s.slice(r[0].length);if(!d&&u||n&&(" "===d[0]||n===d.slice(0,n.length)))r=null;else{var h=r[1].split("#");h[0]&&(i.class=h[0]),h[1]&&(i.id=h[1]),s=d}}else{if(o||l){if(r=x.exec(s)){a["padding-left"]="".concat(r[1].length,"em"),s=s.slice(r[0].length);continue}if(r=y.exec(s)){a["padding-right"]="".concat(r[1].length,"em"),s=s.slice(r[0].length);continue}}if((c||o||l)&&(r=p.exec(s))){var g=_[r[1]];c?i.align=g:a["text-align"]=g,s=s.slice(r[0].length)}else if("td"!==t&&"tr"!==t||!(r=O.exec(s))){if("td"===t){if(r=L.exec(s)){i.colspan=r[1],s=s.slice(r[0].length);continue}if(r=w.exec(s)){i.rowspan=r[1],s=s.slice(r[0].length);continue}}}else a["vertical-align"]=P[r[1]],s=s.slice(r[0].length)}}while(r);var v=[];for(var m in a)v.push("".concat(m,":").concat(a[m]));return v.length?i.style=v.join(";"):delete i.style,s===e?void 0:[e.length-s.length,i]}},addLineNumber:function(e,t,n,r,a,i){return t.showOriginalLineNumber&&n&&((e=e||{})["data-line"]=n[(r=r||0)+a],void 0!==i&&(e["data-line-end"]=n[r+i]),t.cssClassOriginalLineNumber&&(e.class=(e.class?e.class+" ":"")+t.cssClassOriginalLineNumber)),e}}},function(e,t,n){var r=n(0),f=n(1);r.pattern.html_id="[a-zA-Z][a-zA-Z\\d:]*",r.pattern.html_attr="(?:\"[^\"]+\"|'[^']+'|[^>\\s]+)";var a=r.compile(/^\s*([^=\s]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/),i=r.compile(/^<!--(.+?)-->/,"s"),s=r.compile(/^<\/([:html_id:])([^>]*)>/),o=r.compile(/^<([:html_id:])((?:\s[^=\s/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>/),c=r.compile(/^\s*<([:html_id:](?::[a-zA-Z\d]+)*)((?:\s[^=\s/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>/),d={area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,option:1,param:1,wbr:1};function h(){return!0}function g(e){return i.exec(e)}function v(e){return o.exec(e)}function m(e){return s.exec(e)}function b(e){for(var t,n={};t=a.exec(e);)n[t[1]]="string"==typeof t[2]?t[2].replace(/^(["'])(.*)\1$/,"$2"):null,e=e.slice(t[0].length);return n}var x="OPEN",y="COMMENT";e.exports={singletons:d,tokenize:function(e,t,n){var r,a=[],i=!1,s=t?function(e){return e in t}:h,o=s,c={},l=0;e=f(String(e));do{if((r=g(e))&&s("!"))a.push({type:y,data:r[1],pos:e.index(),src:r[0]}),e.advance(r[0]);else if((r=m(e))&&s(r[1])){var u={type:"CLOSE",tag:r[1],pos:e.index(),src:r[0]};if(e.advance(r[0]),a.push(u),c[u.tag]--,l--,n&&(!l||!c[u.tag]<0||isNaN(c[u.tag])))return a;i&&(i=null,s=o)}else if((r=v(e))&&s(r[1])){var p={type:r[3]||r[1]in d?"SINGLE":x,tag:r[1],pos:e.index(),src:r[0]};r[2]&&(p.attr=b(r[2])),"script"!==r[1]&&"code"!==r[1]&&"style"!==r[1]||(i=p.tag,s=function(e){return e===i}),p.type===x&&(l++,c[p.tag]=(c[p.tag]||0)+1),a.push(p),e.advance(r[0])}else(r=/([^<]+|[^\0])/.exec(e))&&a.push({type:"TEXT",data:r[0],pos:e.index(),src:r[0]}),e.advance(r&&r[0].length||1)}while(e.valueOf());return a},parseHtml:function(e,t){for(var n,r=[],a=[],i=r,s=0;s<e.length;s++)if((n=e[s]).type===y)i.push(["!",n.data]);else if("TEXT"===n.type||"WS"===n.type)i.push(n.data);else if("SINGLE"===n.type)i.push(n.attr?[n.tag,n.attr]:[n.tag]);else if(n.type===x){var o=n.attr?[n.tag,n.attr]:[n.tag];i.push(o),a.push(o),i=o}else if("CLOSE"===n.type){if(a.length)for(var c=a.length-1;0<=c;c--){if(a[c][0]===n.tag){a.splice(c),i=a[a.length-1]||r;break}}if(!a.length&&t)return r.sourceLength=n.pos+n.src.length,r}return r.sourceLength=n?n.pos+n.src.length:0,r},parseHtmlAttr:b,testCloseTag:m,testOpenTagBlock:function(e){return c.exec(e)},testOpenTag:v,testComment:g}},function(e,t,n){var T=n(1),E=n(9),C=n(0),W=n(12),r=n(2),z=r.parseAttr,M=r.addLineNumber,H=n(13).parseGlyph,a=n(3),Z=a.parseHtml,q=a.parseHtmlAttr,R=a.tokenize,D=a.singletons,F=a.testComment,I=a.testOpenTag,i=n(5),s=i.ucaps,o=i.txattr,c=i.txcite;C.pattern.txattr=o,C.pattern.txcite=c,C.pattern.ucaps=s;var G={"*":"strong","**":"b","??":"cite",_:"em",__:"i","-":"del","%":"span","+":"ins","~":"sub","^":"sup","@":"code"},B=/^([[{]?)(__?|\*\*?|\?\?|[-+^~@%])/,X=C.compile(/^!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^./]))?)([^!\s]+?) ?(?:\(((?:[^()]|\([^()]+\))+)\))?!(?::([^\s]+?(?=[!-.:-@[\\\]-`{-~](?:$|\s)|\s|$)))?/),U=C.compile(/^\[!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^./]))?)([^!\s]+?) ?(?:\(((?:[^()]|\([^()]+\))+)\))?!(?::([^\s]+?(?=[!-.:-@[\\\]-`{-~](?:$|\s)|\s|$)))?\]/),J=C.compile(/^((?!TM\)|tm\))[[:ucaps:]](?:[[:ucaps:]\d]{1,}(?=\()|[[:ucaps:]\d]{2,}))(?:\((.*?)\))?(?=\W|$)/),K=C.compile(/^"(?!\s)((?:[^"]|"(?![\s:])[^\n"]+"(?!:))+)"[:txcite:]/),Q=/^\["([^\n]+?)":((?:\[[a-z0-9]*\]|[^\]])+)\]/,V=/\s*\(((?:\([^()]*\)|[^()])+)\)$/,Y=/^\[(\d+)(!?)\]/;t.parsePhrase=function e(t,n,r,a){t=T(t);var i,s,o=E();do{if(t.save(),t.startsWith("\r\n")&&t.advance(1),t.startsWith("\n"))t.advance(1),t.startsWith(" ")?t.advance(1):n.breaks&&o.add(["br"]),o.add("\n");else if(i=/^==(.*?)==/.exec(t))t.advance(i[0]),o.add(i[1]);else{var c=t.getPos(),l=t.lookbehind(1),u=!l||/^[\s>.,"'?!;:()]$/.test(l);if((i=B.exec(t))&&(u||i[1])){t.advance(i[0]);var p=i[2],f=i[1],d=G[p],h="code"===d;(s=!h&&z(t,d,p))&&(t.advance(s[0]),s=s[1]);var g=void 0,v=void 0;if("["===f)g="^(.*?)",v="(?:])";else if("{"===f)g="^(.*?)",v="(?:})";else{var m=C.escape(p.charAt(0));g=h?"^(\\S+|\\S+.*?\\S)":"^([^\\s".concat(m,"]+|[^\\s").concat(m,"].*?\\S(").concat(m,"*))"),v="(?=$|[\\s.,\"'!?;:()«»„“”‚‘’<>])"}if((i=C.compile("".concat(g,"(").concat(C.escape(p),")").concat(v)).exec(t))&&i[1]){var b=t.getPos();t.advance(i[0]),h?o.add([d,i[1]]):o.add([d,s].concat(e(i[1],n,r,a+b)));continue}t.load()}if((i=X.exec(t))||(i=U.exec(t))){t.advance(i[0]);var x=(s=i[1]&&z(i[1],"img"))?s[1]:{src:""},y=["img",W(x,n.showOriginalLineNumber?M({},n,r,a,c):void 0)];x.src=i[2],x.alt=i[3]?x.title=i[3]:"",i[4]&&(y=["a",{href:i[4]},y]),o.add(y)}else if(i=F(t)){var S=["!"];n.showOriginalLineNumber&&S.push(M({},n,r,a,t.getSlot())),S.push(i[1]),o.add(S),t.advance(i[0])}else{if(i=I(t)){t.advance(i[0]);var $=t.getPos(),O=i[1],L=i[3]||i[1]in D,w=[O],A=i[2]?q(i[2]):void 0;if(L){var N=n.showOriginalLineNumber?M({},n,r,a,c):void 0;A?w.push(W(A,N)):N&&w.push(N),o.add(w).add(t.skipWS());continue}if(i=C.compile("^(.*?)(</".concat(O,"\\s*>)"),"s").exec(t)){var k=n.showOriginalLineNumber?M({},n,r,a,c,c+(0<i[0].length?i[0].length-1:0)):void 0;if(A?w.push(W(A,k)):k&&w.push(k),t.advance(i[0]),"code"===O)w.push(i[1]);else{if("notextile"===O){o.merge(Z(R(i[1])));continue}w=w.concat(e(i[1],n,r,a+$))}o.add(w);continue}t.load()}if((i=Y.exec(t))&&/\S/.test(l))t.advance(i[0]),o.add(["sup",{class:"footnote",id:"fnr"+i[1]},"!"===i[2]?i[1]:["a",{href:"#fn"+i[1]},i[1]]]);else if(i=J.exec(t)){t.advance(i[0]);var _=["span",{class:"caps"},i[1]];i[2]&&(_=["acronym",{title:i[2]},_]),o.add(_)}else if(u&&(i=K.exec(t))||(i=Q.exec(t))){t.advance(i[0]);var P=i[1].match(V),j=P?i[1].slice(0,i[1].length-P[0].length):i[1];s=(s=z(j,"a"))?(j=j.slice(s[0]),s[1]):{},P&&!j&&(j=P[0],P=""),s.href=i[2],P&&(s.title=P[1]),o.add(["a",s].concat(e(j.replace(/^(\.?\s*)/,""),n,r,a+t.getSlot())))}else(i=/([a-zA-Z0-9,.':]+|[ \f\r\t\v\xA0\u2028\u2029]+|[^\0])/.exec(t))&&o.add(i[0]),t.advance(i&&i[0].length||1)}}}while(t.valueOf());return o.get().map(H)}},function(e,t){t.txblocks="(?:b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)",t.ucaps="A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾⱿꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞠꞢꞤꞦꞨꞪ",t.txcite=":((?:[^\\s()]|\\([^\\s()]+\\)|[()])+?)(?=[!-\\.:-@\\[\\\\\\]-`{-~]+(?:$|\\s)|$|\\s)";var n=t.attr_class="\\([^\\)]+\\)",r=t.attr_style="\\{[^\\}]+\\}",a=t.attr_lang="\\[[^\\[\\]]+\\]",i=t.attr_align="(?:<>|<|>|=)",s=t.attr_pad="[\\(\\)]+",o=t.txattr="(?:".concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(s,")*");t.txlisthd="[\\t ]*[\\#\\*]*(\\*|\\#(?:_|\\d+)?)".concat(o,"(?: +\\S|\\.\\s*(?=\\S|\\n))")},function(e,t){e.exports=function(e,t){if(t)for(var n in t)e[n]=t[n];return e}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(3).singletons;function l(e,t){return e.replace(/&(?!(#\d{2,}|#x[\da-fA-F]{2,}|[a-zA-Z][a-zA-Z1-4]{1,6});)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,t?"&quot;":'"').replace(/'/g,t?"&#39;":"'")}function r(e){if(t=e,!Array.isArray(t)||"string"!=typeof t[0])throw new Error("Not a jsonML node");var t,n;return"object"===o(n=e[1])&&!Array.isArray(n)}e.exports={reIndent:function n(e,r){return r?e.map(function(e){if(/^\n\t+/.test(e))if(r<0)e=e.slice(0,r);else for(var t=0;t<r;t++)e+="\t";else if(Array.isArray(e))return n(e,r);return e}):e},toHTML:function e(t){if("string"==typeof(t=t.concat()))return l(t);var n=t.shift(),r={},a="",i=[];for(t.length&&"object"===o(t[0])&&!Array.isArray(t[0])&&(r=t.shift());t.length;)i.push(e(t.shift()));for(var s in r)a+=null==r[s]?" ".concat(s):" ".concat(s,'="').concat(l(String(r[s]),!0),'"');return"!"===n?"\x3c!--".concat(i.join(""),"--\x3e"):n in c||-1<n.indexOf(":")&&!i.length?"<".concat(n).concat(a," />"):"<".concat(n).concat(a,">").concat(i.join(""),"</").concat(n,">")},escape:l,applyHooks:function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0;if(Array.isArray(t)&&Array.isArray(n)&&n.length){for(var a=+r||0,i=0,s=n.length;i<s;i++){var o=n[i];o[0](t,o[1],a)}a++;for(var c=0,l=t.length;c<l;c++)Array.isArray(t[c])&&e(t[c],n,a)}return t},addAttributes:function(e,t){if(r(e))return Object.assign(e[1],t);var n=Object.assign({},t);return e.splice(1,0,n),n}}},function(e,t,n){var R=n(9),D=n(1),r=n(0),F=n(11),I=n(7),a=n(3),G=a.parseHtml,B=a.tokenize,X=a.parseHtmlAttr,U=a.singletons,J=a.testComment,K=a.testOpenTagBlock,Q=n(4).parsePhrase,i=n(2),V=i.copyAttr,Y=i.parseAttr,ee=i.addLineNumber,s=n(14),te=s.testList,ne=s.parseList,o=n(15),re=o.testDefList,ae=o.parseDefList,c=n(16),ie=c.testTable,se=c.parseTable,l=n(5),u=l.txblocks,p=l.txlisthd,f=l.txattr;r.pattern.txblocks=u,r.pattern.txlisthd=p,r.pattern.txattr=f;var oe={p:0,hr:0,ul:1,ol:0,li:0,div:1,pre:0,object:1,script:0,noscript:0,blockquote:1,notextile:1},ce=r.compile(/^([:txblocks:])/),le=r.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n(?:\s*\n|$)+)/,"s"),ue=r.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n+(?=[:txblocks:][:txattr:]\.))/,"s"),pe=r.compile(/^(.*?)($|\r?\n(?:\s*\n|$)+)/,"s"),fe=r.compile(/^(.*?)($|\r?\n+(?=[:txblocks:][:txattr:]\.))/,"s"),de=/^(---+|\*\*\*+|___+)(\r?\n\s+|$)/,he=r.compile(/^\[([^\]]+)\]((?:https?:\/\/|\/)\S+)(?:\s*\n|$)/),ge=/^fn\d+$/,ve=/^( *\r?\n)+/,d=Object.prototype.hasOwnProperty;function me(e){for(var t=1;t<(arguments.length<=1?0:arguments.length-1);t++){var n=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];if(null!=n)for(var r in n)d.call(n,r)&&(e[r]=n[r])}return e}function be(e,a,i,s,o,c,l){a=a||"p";var u=[];return e.split(/(?:\r?\n){2,}/).forEach(function(e,t){if("p"===a&&/^\s/.test(e)){var n=0;if(o.showOriginalLineNumber){var r=e.match(/^(\r?\n|\t| )*/g);r&&r[0]&&(n+=r[0].length)}e=e.replace(/\r?\n[\t ]/g," ").trim(),u=u.concat(Q(e,o,c,l+n))}else s&&t&&u.push(s),u.push(i?[a,i].concat(Q(e,o,c,l)):[a].concat(Q(e,o,c,l)))}),u}t.parseFlow=function e(t,n,r){for(var a,i,s=R(),o=function(e,t,n){if(t.showOriginalLineNumber){n=n||0;var r=e.match(ve);return r&&r[0]&&(n+=(r[0].match(/\n/g)||[]).length),n}return 0}(t,n,r),c=function(e,t,n){if(t.showOriginalLineNumber){var r=[],a=e.toString();for(var i in a)r[i]=n,"\n"===a[i]&&n++;return r}}(t=D(t.replace(ve,"")),n,o);t.valueOf();){var l=ve.exec(t);if(l&&l[0]&&t.advance(l[0].length),t.save(),!t.valueOf())break;if(i=he.exec(t))a=a||{},t.advance(i[0]),a[i[1]]=i[2];else{if(s.linebreak(),i=ce.exec(t)){t.advance(i[0]);var u=i[0],p=Y(t,u);if(p&&(t.advance(p[0]),p=p[1]),p=ee(p,n,c,0,t.getSlot()),i=/^\.(\.?)(?:\s|(?=:))/.exec(t)){var f=!!i[1],d=f?ue:le;if("bc"!==u&&"pre"!==u||(d=f?fe:pe),i=d.exec(t.advance(i[0])),t.advance(i[0]),"bq"===u){var h=i[1];(i=/^:(\S+)\s+/.exec(h))&&((p=p||{}).cite=i[1],h=h.slice(i[0].length));var g=be(h,"p",V(p,{cite:1,id:1}),"\n",n,t.getSlot());s.add(["blockquote",p,"\n"].concat(g).concat(["\n"]))}else if("bc"===u){var v=p?V(p,{id:1}):null;s.add(["pre",p,v?["code",v,i[1]]:["code",i[1]]])}else if("notextile"===u)s.merge(G(B(i[1])));else if("###"!==u)if("pre"===u)s.add(["pre",p,i[1]]);else if(ge.test(u)){var m=u.replace(/\D+/g,"");(p=p||{}).class=(p.class?p.class+" ":"")+"footnote",p.id="fn"+m,s.add(["p",p,["a",{href:"#fnr"+m},["sup",m]]," "].concat(Q(i[1],n,c,t.getSlot())))}else s.merge(be(i[1],u,p,"\n",n,c,t.getSlot()));continue}t.load()}if(i=J(t)){var b=["!"];n.showOriginalLineNumber&&b.push(ee({},n,c,0,t.getSlot())),b.push(i[1]),s.add(b),t.advance(i[0]+(/(?:\s*\n+)+/.exec(t)||[])[0])}else{if(i=K(t)){var x=i[1];if(x in oe)if(i[3]||x in U){var y=t.getSlot();if(t.advance(i[0]),/^\s*(\n|$)/.test(t)){var S=[x];n.showOriginalLineNumber?S.push(ee(i[2]?X(i[2]):{},n,c,0,y)):i[2]&&S.push(X(i[2])),s.add(S),t.skipWS();continue}}else if("pre"===x){var $=B(t,{pre:1,code:1},x);n.showOriginalLineNumber&&($[0].attr=ee($[0].attr,n,c,0,t.getSlot()));var O=G($,!0);if(t.load().advance(O.sourceLength),/^\s*(\n|$)/.test(t)){s.merge(O),t.skipWS();continue}}else if("notextile"===x){for(var L=B(t,null,x),w=1;/^\s+$/.test(L[w].src);)w++;var A=G(L.slice(w,-1),!0),N=L.pop();if(t.load().advance(N.pos+N.src.length),/^\s*(\n|$)/.test(t)){s.merge(A),t.skipWS();continue}}else{t.skipWS();for(var k=B(t,null,x),_=t.getSlot(),P=k.pop(),j=1;k[j]&&/^[\n\r]+$/.test(k[j].src);)j++;if(P.tag===x){var T=1<k.length?t.slice(k[j].pos,P.pos):"";if(t.advance(P.pos+P.src.length),/^\s*(\n|$)/.test(t)){var E=[x];if(n.showOriginalLineNumber?E.push(ee(i[2]?X(i[2]):{},n,c,0,_,t.getPos()-1)):i[2]&&E.push(X(i[2])),"script"===x||"style"===x)E.push(T);else{var C=1<k.length?k[j].pos:0;if(n.showOriginalLineNumber){var W=T.match(/^\n+/);W&&W[0]&&(C+=W[0].length)}var z=T.replace(/^\n+/,"").replace(/\s*$/,""),M=/\n\r?\n/.test(z)||"ol"===x||"ul"===x,H=M?e(z,n,c?c[_+C]:void 0):Q(z,me({},n,{breaks:!1}),c,_+C);(M||/^\n/.test(T))&&E.push("\n"),(M||/\s$/.test(T))&&H.push("\n"),E=E.concat(H)}s.add(E),t.skipWS();continue}}}t.load()}if(i=de.exec(t)){var Z=["hr"];n.showOriginalLineNumber&&Z.push(ee({},n,c,0,t.getSlot())),t.advance(i[0]),s.add(Z)}else(i=te(t))?(t.advance(i[0]),s.add(ne(i[0],n,c,t.getSlot()))):(i=re(t))?(t.advance(i[0]),s.add(ae(i[0],n,c,t.getSlot()))):(i=ie(t))?(t.advance(i[0]),s.add(se(i[1],n,c,t.getSlot()))):(i=le.exec(t),s.merge(be(i[1],"p",ee({},n,c,0,t.getSlot()),"\n",n,c,t.getSlot())),t.advance(i[0]))}}}var q=a?[[F,a]]:[];return n.hooks&&Array.isArray(n.hooks)&&(q=q.concat(n.hooks)),I.applyHooks(s.get(),q)}},function(e,t){e.exports=function(e){var t=Array.isArray(e)?e:[];return{add:function(e){return"string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:Array.isArray(e)?t.push(e.filter(function(e){return void 0!==e})):e&&t.push(e),this},merge:function(e){for(var t=0,n=e.length;t<n;t++)this.add(e[t]);return this},linebreak:function(){t.length&&this.add("\n")},get:function(){return t}}}},function(e,t,n){var r=n(6),a=n(7),i=n(8).parseFlow,s=n(3).parseHtml;function o(e,t){return t=r(r({},o.defaults),t||{}),i(e,t,t.lineOffset).map(a.toHTML).join("")}(e.exports=o).defaults={breaks:!0,showOriginalLineNumber:!1,lineOffset:0,cssClassOriginalLineNumber:"",hooks:[]},o.setOptions=o.setoptions=function(e){return r(o.defaults,e),this},o.parse=o.convert=o,o.html_parser=s,o.tokenize=function(e,t){return t=r(r({},o.defaults),t||{}),i(e,t,t.lineOffset)},o.jsonml=function(e,t){return["html"].concat(o.tokenize(e,t))},o.serialize=a.toHTML,o.jsonmlUtils=a},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e,t){if(Array.isArray(e)&&"a"===e[0]){var n=e[1];"object"===r(n)&&"href"in n&&n.href in t&&(n.href=t[n.href])}return e}},function(e,t){e.exports=function(e,t){if(t)for(var n in t)e[n]="class"===n?(e[n]?e[n]+" ":"")+t[n]:t[n];return e}},function(e,t,n){var r=n(0),a=/(\w)'(\w)/g,i=/([^-]|^)->/,s=r.compile(/([^\s[(])"(?=$|\s|[:punct:])/g),o=r.compile(/([^\s[(])'(?=$|\s|[:punct:])/g),c=/(\b ?|\s|^)(?:\(C\)|\[C\])/gi,l=/([\d.,]+['"]? ?)x( ?)(?=[\d.,]['"]?)/g,u=r.compile(/(\d*[.,]?\d+)"(?=\s|$|[:punct:])/g),p=/([^.]?)\.{3}/g,f=/(^|[\s\w])--([\s\w]|$)/g,d=/ - /g,h=/"/g,g=/'/g,v=/(\b ?|\s|^)(?:\(R\)|\[R\])/gi,m=r.compile(/(\d*[.,]?\d+)'(?=\s|$|[:punct:])/g),b=/(\b ?|\s|^)(?:\((?:TM|tm)\)|\[(?:TM|tm)\])/g;t.parseGlyph=function(e){return"string"!=typeof e?e:e.replace(i,"$1&#8594;").replace(l,"$1&#215;$2").replace(p,"$1&#8230;").replace(f,"$1&#8212;$2").replace(d," &#8211; ").replace(b,"$1&#8482;").replace(v,"$1&#174;").replace(c,"$1&#169;").replace(u,"$1&#8243;").replace(s,"$1&#8221;").replace(h,"&#8220;").replace(m,"$1&#8242;").replace(a,"$1&#8217;$2").replace(o,"$1&#8217;").replace(g,"&#8216;").replace(/[([]1\/4[\])]/,"&#188;").replace(/[([]1\/2[\])]/,"&#189;").replace(/[([]3\/4[\])]/,"&#190;").replace(/[([]o[\])]/,"&#176;").replace(/[([]\+\/-[\])]/,"&#177;")}},function(e,t,n){function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O=n(1),r=n(0),L=n(6),a=n(2),w=a.parseAttr,A=a.addLineNumber,N=n(4).parsePhrase,i=n(5).txlisthd;r.pattern.txlisthd=i;var s=r.compile(/^((?:[:txlisthd:][^\0]*?(?:\r?\n|$))+)(\s*\n|$)/,"s"),k=r.compile(/^([#*]+)([^\0]+?)(\n(?=[:txlisthd:])|$)/,"s");function _(e){for(var t="\n";e--;)t+="\t";return t}e.exports={testList:function(e){return s.exec(e)},parseList:function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/(^|\r?\n)[\t ]+/);a&&a[0]&&(r+=a[0].length)}e=O(e.replace(/(^|\r?\n)[\t ]+/,"$1"));for(var i,s,o,c,l=[],u={},p=t._lst||{},f=0;s=k.exec(e);){var d=["li"],h=s[1].length,g="#"===s[1].substr(-1)?"ol":"ul",v=null,m=void 0,b=void 0,x=void 0,y=void 0;(o=/^(_|\d+)/.exec(s[2]))&&(f=isFinite(o[1])?parseInt(o[1],10):p[h]||u[h]||1,s[2]=s[2].slice(o[1].length)),(x=w(s[2],"li"))&&(s[2]=s[2].slice(x[0]),x=x[1]);var S=A({},t,n,r,e.getPos());if(/^\.\s*$/.test(s[2]))i=x||{},e.advance(s[0]);else{for(;l.length<h;)m=[g,{},_(l.length+1),v=["li"]],(b=l[l.length-1])&&(b.li.push(_(l.length)),b.li.push(m)),l.push({ul:m,li:v,att:0,pbaLineNumber:S}),u[l.length]=1;for(;l.length>h;)(y=l.pop()).ul.push(_(l.length)),1!==y.att||y.ul[3][1].substr||L(y.ul[1],y.ul[3].splice(1,1)[0]);b=l[l.length-1],f&&(b.ul[1].start=f,u[h]=f,f=0),i&&(b.att=9,L(b.ul[1],i),i=null),v||(b.ul.push(_(l.length),d),b.li=d),x?(b.li.push(L(x,S)),b.att++):b.li.push(S),Array.prototype.push.apply(b.li,N(s[2].trim(),t,n,r)),e.advance(s[0]),u[h]=(u[h]||0)+1}}for(t._lst=u;l.length;)(c=l.pop()).ul.push(_(l.length)),1!==c.att||c.ul[3][1].substr||L(c.ul[1],c.ul[3].splice(1,1)[0]),"object"===$(c.ul[3][1])?L(c.ul[3][1],c.pbaLineNumber):c.ul[3].splice(1,0,c.pbaLineNumber);return c.ul}}},function(e,t,g){var v=g(1),m=g(2).addLineNumber,n=/^((?:- (?:[^\n]\n?)+?)+:=(?: *\n[^\0]+?=:(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- )))))+/,b=/^((?:- (?:[^\n]\n?)+?)+):=( *\n[^\0]+?=:\s*(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- ))))/;t.testDefList=function(e){return n.exec(e)},t.parseDefList=function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/^\s+/);a&&a[0]&&(r+=a[0].length)}e=v(e.trim());for(var i,s,o,c=g(4).parsePhrase,l=g(8).parseFlow,u=["dl","\n"];o=b.exec(e);){var p=(i=o[1].split(/(?:^|\n)- /))[0].length;i=i.slice(1);var f=[];for(t.showOriginalLineNumber&&(f=o[1].match(/(?:^|\n)- /g).slice(1));i.length;){var d=i.shift();u.push("\t",["dt"].concat(m({},t,n,r,e.getPos()+p),c(d.trim(),t,n,r)),"\n"),t.showOriginalLineNumber&&(p+=d.length,f.length&&(p+=f.shift().length))}if(s=o[2].trim(),t.showOriginalLineNumber){p=o[1].length+2;var h=o[2].match(/^\s+/);h&&h[0]&&(p+=h[0].length)}u.push("\t",["dd"].concat(m({},t,n,r,e.getPos()+p),/=:$/.test(s)?l(s.slice(0,-2).trim(),t,t.showOriginalLineNumber?n[(r||0)+p+e.getPos()]:0):c(s,t,n,(r||0)+p+e.getPos())),"\n"),e.advance(o[0])}return u}},function(e,t,n){var r=n(0),L=n(6),w=n(1),a=n(2),A=a.parseAttr,N=a.addLineNumber,k=n(4).parsePhrase,_=n(7).reIndent,i=n(5).txattr;r.pattern.txattr=i;var s=r.compile(/^((?:table[:txattr:]\.(?:\s(.+?))\s*\n)?(?:(?:[:txattr:]\.[^\n\S]*)?\|.*?\|[^\n\S]*(?:\n|$))+)([^\n\S]*\n)?/,"s"),P=/^table(_?)([^\n]*?)\.(?:[ \t](.+?))?\s*\n/,j=r.compile(/^(\|([~^-][:txattr:])\.\s*\n)?([:txattr:]\.[^\n\S]*)?(\|)(.*?)\|[^\n\S]*(\n|$)/,"s"),T=/^\|=([^\n+]*)\n/,E=/^\|:([^\n+]*)\|[\r\t ]*\n/,C=/^\|([\^\-~])([^\n+]*)\.[ \t\r]*\n/,W={"^":"thead","~":"tfoot","-":"tbody"};function z(e){var i=["colgroup",{}];return e.split("|").forEach(function(e,t){var n,r=t?{}:i[1],a=e.trim();a&&((n=/^\\(\d+)/.exec(a))&&(r.span=+n[1],a=a.slice(n[0].length)),(n=A(a,"col"))&&(L(r,n[1]),a=a.slice(n[0])),(n=/\b\d+\b/.exec(a))&&(r.width=+n[0])),t&&i.push("\n\t\t",["col",r])}),i.concat(["\n\t"])}e.exports={parseColgroup:z,parseTable:function(e,t,n,r){if(t.showOriginalLineNumber){var a=e.match(/^\s+/);a&&a[0]&&(r+=a[0].length)}function i(e,t){c=[e,t||{}],h.push(c)}e=w(e.trim());var s,o,c,l,u,p,f,d,h=[],g={},v=0;(d=P.exec(e))&&(e.advance(d[0]),(p=A(d[2],"table"))&&L(g,p[1]),d[3]&&(g.summary=d[3])),(d=T.exec(e))&&(o=["caption"],(p=A(d[1],"caption"))&&(o.push(p[1]),d[1]=d[1].slice(p[0])),/\./.test(d[1])?(o.push(d[1].slice(1).replace(/\|\s*$/,"").trim()),v++,e.advance(d[0])):o=null);do{if(d=E.exec(e))s=z(d[1]),v++;else if(d=C.exec(e)){var m=W[d[1]]||"tbody";i(m,(p=A("".concat(d[2]," "),m))&&p[1]),v++}else if(d=j.exec(e)){var b=0+(d[1]?d[1].length:0)+(d[2]?d[2].length:0)+(d[3]?d[3].length:0)+(d[4]?d[4].length:0);c||i("tbody"),l=["tr"],d[3]&&(p=A(d[3],"tr"))?l.push(N(p[1],t,n,r,e.getPos())):l.push(N({},t,n,r,e.getPos())),c.push("\n\t\t",l),u=w(d[5]);do{u.save();var x=u.startsWith("_"),y=[x?"th":"td"];if(x&&u.advance(1),(p=A(u,"td"))&&(u.advance(p[0]),y.push(p[1])),p||x){var S=/^\.\s*/.exec(u);S?u.advance(S[0]):(y=["td"],u.load())}var $=/^(==.*?==|[^|])*/.exec(u);y=y.concat(k($[0],t,n,r+e.getPos()+b+u.getPos())),l.push("\n\t\t\t",y),f="|"===u.valueOf().charAt($[0].length),u.advance($[0].length+1)}while(f);l.push("\n\t\t")}d&&e.advance(d[0])}while(d);var O=["table",g];return v?(o&&O.push("\n\t",o),s&&O.push("\n\t",s),h.forEach(function(e){O.push("\n\t",e.concat(["\n\t"]))})):O=O.concat(_(h[0].slice(2),-1)),O.push("\n"),O},testTable:function(e){return s.exec(e)}}}],a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=10);function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r}); 